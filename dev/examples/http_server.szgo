{
	"name": "HTTP Server",
	"package_path": "github.com/google/shenzhen-go/dev/examples/http_server",
	"is_command": true,
	"nodes": {
		"HTTPServeMux": {
			"part": {
				"routes": {
					"/": "root",
					"/metrics": "metrics"
				}
			},
			"part_type": "HTTPServeMux",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 201,
			"y": 296,
			"connections": {
				"metrics": "channel5",
				"requests": "channel0",
				"root": "channel6"
			}
		},
		"HTTPServer": {
			"part": {},
			"part_type": "HTTPServer",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 192,
			"y": 173,
			"connections": {
				"addr": "channel1",
				"errors": "channel3",
				"requests": "channel0",
				"shutdown": "channel2"
			}
		},
		"Hello World": {
			"part": {
				"imports": [
					""
				],
				"head": [
					""
				],
				"body": [
					"for rw := range requests {",
					"\trw.Write([]byte(\"Hello, HTTP!\\n\"))",
					"\trw.Close()",
					"}"
				],
				"tail": [
					""
				],
				"pins": {
					"requests": {
						"type": "*parts.HTTPRequest",
						"dir": "in"
					}
				}
			},
			"part_type": "Code",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 314,
			"y": 416,
			"connections": {
				"requests": "channel6"
			}
		},
		"Log errors": {
			"part": {
				"imports": [
					"\"log\""
				],
				"head": [
					""
				],
				"body": [
					"for err := range errors {",
					"\tlog.Printf(\"HTTP server: %v\", err)",
					"}"
				],
				"tail": [
					""
				],
				"pins": {
					"errors": {
						"type": "error",
						"dir": "in"
					}
				}
			},
			"part_type": "Code",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 56,
			"y": 296,
			"connections": {
				"errors": "channel3"
			}
		},
		"Metrics": {
			"part": {},
			"part_type": "PrometheusHTTPHandler",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 149,
			"y": 416,
			"connections": {
				"requests": "channel5"
			}
		},
		"Press Enter to shut down": {
			"part": {
				"imports": [
					"\"context\"",
					"\"fmt\"",
					"\"time\""
				],
				"head": [
					""
				],
				"body": [
					"fmt.Println(\"Press Enter to shut down.\")",
					"var s string",
					"fmt.Scanln(\u0026s)",
					"ctx, _ := context.WithTimeout(context.Background(), 5*time.Second)",
					"shutdown \u003c- ctx"
				],
				"tail": [
					""
				],
				"pins": {
					"shutdown": {
						"type": "context.Context",
						"dir": "out"
					}
				}
			},
			"part_type": "Code",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 238,
			"y": 51,
			"connections": {
				"shutdown": "channel2"
			}
		},
		"Send \":8765\"": {
			"part": {
				"imports": [
					""
				],
				"head": [
					""
				],
				"body": [
					"addr \u003c- \":8765\""
				],
				"tail": [
					""
				],
				"pins": {
					"addr": {
						"type": "string",
						"dir": "out"
					}
				}
			},
			"part_type": "Code",
			"enabled": true,
			"wait": true,
			"multiplicity": 1,
			"x": 90,
			"y": 51,
			"connections": {
				"addr": "channel1"
			}
		}
	},
	"channels": {
		"channel0": {
			"cap": 0
		},
		"channel1": {
			"cap": 0
		},
		"channel2": {
			"cap": 0
		},
		"channel3": {
			"cap": 0
		},
		"channel5": {
			"cap": 0
		},
		"channel6": {
			"cap": 0
		}
	}
}
